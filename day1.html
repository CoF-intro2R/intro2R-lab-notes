<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Week 1 – OSU CoF Intro2R workshop</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">OSU CoF Intro2R workshop</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./day1.html" aria-current="page"> 
<span class="menu-text">Week 1</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./day2.html"> 
<span class="menu-text">Week 2</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./day3.html"> 
<span class="menu-text">Week 3</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./day4.html"> 
<span class="menu-text">Week 4</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./day5.html"> 
<span class="menu-text">Week 5</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introductions" id="toc-introductions" class="nav-link active" data-scroll-target="#introductions">Introductions</a>
  <ul class="collapse">
  <li><a href="#expertise" id="toc-expertise" class="nav-link" data-scroll-target="#expertise">Expertise</a></li>
  </ul></li>
  <li><a href="#what-is-r" id="toc-what-is-r" class="nav-link" data-scroll-target="#what-is-r">What is R?</a>
  <ul class="collapse">
  <li><a href="#why-r" id="toc-why-r" class="nav-link" data-scroll-target="#why-r">Why R?</a></li>
  </ul></li>
  <li><a href="#setting-up-your-workspace" id="toc-setting-up-your-workspace" class="nav-link" data-scroll-target="#setting-up-your-workspace">Setting up your workspace</a>
  <ul class="collapse">
  <li><a href="#taking-project-organization-to-the-next-level" id="toc-taking-project-organization-to-the-next-level" class="nav-link" data-scroll-target="#taking-project-organization-to-the-next-level">Taking project organization to the next level</a>
  <ul class="collapse">
  <li><a href="#absolute-vs.-relative-paths" id="toc-absolute-vs.-relative-paths" class="nav-link" data-scroll-target="#absolute-vs.-relative-paths">Absolute vs.&nbsp;relative paths</a></li>
  </ul></li>
  <li><a href="#a-short-aside-navigating-rstudio" id="toc-a-short-aside-navigating-rstudio" class="nav-link" data-scroll-target="#a-short-aside-navigating-rstudio">A short aside: Navigating RStudio</a></li>
  <li><a href="#back-to-project-organization" id="toc-back-to-project-organization" class="nav-link" data-scroll-target="#back-to-project-organization">Back to project organization</a>
  <ul class="collapse">
  <li><a href="#a-better-way" id="toc-a-better-way" class="nav-link" data-scroll-target="#a-better-way">A better way</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#git-and-github" id="toc-git-and-github" class="nav-link" data-scroll-target="#git-and-github">Git and GitHub</a>
  <ul class="collapse">
  <li><a href="#key-git-vocabulary" id="toc-key-git-vocabulary" class="nav-link" data-scroll-target="#key-git-vocabulary">Key git vocabulary</a>
  <ul class="collapse">
  <li><a href="#nouns" id="toc-nouns" class="nav-link" data-scroll-target="#nouns">Nouns</a></li>
  <li><a href="#verbs" id="toc-verbs" class="nav-link" data-scroll-target="#verbs">Verbs</a></li>
  </ul></li>
  <li><a href="#a-simple-workflow" id="toc-a-simple-workflow" class="nav-link" data-scroll-target="#a-simple-workflow">A simple workflow</a>
  <ul class="collapse">
  <li><a href="#multiple-computers" id="toc-multiple-computers" class="nav-link" data-scroll-target="#multiple-computers">Multiple computers</a></li>
  </ul></li>
  <li><a href="#using-git-and-github" id="toc-using-git-and-github" class="nav-link" data-scroll-target="#using-git-and-github">Using git and GitHub</a>
  <ul class="collapse">
  <li><a href="#using-git-from-rstudio" id="toc-using-git-from-rstudio" class="nav-link" data-scroll-target="#using-git-from-rstudio">Using git from RStudio</a></li>
  <li><a href="#using-github-desktop" id="toc-using-github-desktop" class="nav-link" data-scroll-target="#using-github-desktop">Using GitHub Desktop</a></li>
  <li><a href="#using-git-from-the-command-line" id="toc-using-git-from-the-command-line" class="nav-link" data-scroll-target="#using-git-from-the-command-line">Using git from the command line</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Week 1</h1>
<p class="subtitle lead">Setting up a workflow</p>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="introductions" class="level1">
<h1>Introductions</h1>
<p><strong>Instructor</strong>: Dusty Gannon</p>
<ul>
<li>MS Statistics, OSU</li>
<li>PhD Botany and Plant Pathology, OSU</li>
</ul>
<section id="expertise" class="level2">
<h2 class="anchored" data-anchor-id="expertise">Expertise</h2>
<ul>
<li>Statistics</li>
<li>Pollination ecology</li>
<li>Population biology and ecology</li>
<li>R</li>
<li>Stan/JAGS</li>
<li>C++</li>
<li>LaTeX</li>
<li>python(ish)</li>
</ul>
</section>
</section>
<section id="what-is-r" class="level1">
<h1>What is R?</h1>
<ul>
<li>A computing language
<ul>
<li>Object oriented (somewhat loosely)
<ul>
<li>Objects have <em>classes</em></li>
</ul></li>
<li>Interpreted language (versus compiled)</li>
</ul></li>
</ul>
<section id="why-r" class="level2">
<h2 class="anchored" data-anchor-id="why-r">Why R?</h2>
<ul>
<li>Statistical analysis</li>
<li>Relatively easy to learn</li>
<li>Excellent tools for cleaning, formatting, and analyzing tabular data</li>
</ul>
</section>
</section>
<section id="setting-up-your-workspace" class="level1">
<h1>Setting up your workspace</h1>
<ul>
<li><strong>Adopt or create a file naming convention</strong>. You can create your own, but some general guidelines include:
<ul>
<li><span class="emoji" data-emoji="exclamation">❗</span> No spaces. Instead use <code>-</code> or <code>_</code>. E.g. <code>my_file.txt</code></li>
<li>Dates can be sorted easily using <em>yyyymmdd</em> or <em>yymmdd</em> format. E.g. <code>20240903_my_file.txt</code></li>
<li>Here are some more tips: <a href="https://datamanagement.hms.harvard.edu/plan-design/file-naming-conventions">https://datamanagement.hms.harvard.edu/plan-design/file-naming-conventions</a>. Ignore their <em>versioning</em> advice. We will use <code>git</code> for version control.</li>
</ul></li>
<li><strong>Adopt a project organization convention</strong>. For example:</li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph LR
    A(Projects) --&gt; B(project 1) &amp; C(project 2)
    B --&gt; D(Data) &amp; E(Writing) &amp; F(R) &amp; G[README.txt]
    E --&gt; P[manuscript.docx]
    D --&gt; H[dat1.csv] &amp; I[README.txt]
    C --&gt; J(Data) &amp; K(Writing) &amp; L(Python) &amp; M(R) &amp; N(Rmds) &amp; O[README.txt]
    
classDef file fill:#FFFFFF,stroke:#FFFFFF;
class G,H,I,O,P file
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>:thinking_face: Why is this important?</p>
</div>
</div>
<section id="taking-project-organization-to-the-next-level" class="level2">
<h2 class="anchored" data-anchor-id="taking-project-organization-to-the-next-level">Taking project organization to the next level</h2>
<p>Collaboration is an important aspect of modern science. How do we work collaboratively on code? Let’s see the importance of some of the tools you will be introduced to with an example.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled" title="Your turn">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Your turn
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Open your system’s file manager (Finder for Mac, File Explorer for Windows). Inside your <code>Documents</code> directory, create a new folder called <code>CoF_intro2R</code>. <em>Note the use of <code>-</code> or <code>_</code> in place of spaces</em>.</li>
<li>Inside this folder, create another called <code>Lab</code> and yet another inside that called <code>Day1</code>.</li>
<li>Inside of the <code>Day1</code> folder, create a new, blank text file. Copy the following text into the file:</li>
</ol>
<pre><code>a,b,c
1,2,3</code></pre>
<ol start="4" type="1">
<li>Save the file as <code>eg.csv</code>.</li>
</ol>
<p>What is the name of the .csv file you just created?</p>
<ol start="5" type="1">
<li>Open RStudio.</li>
</ol>
</div>
</div>
<div class="callout callout-style-default callout-warning no-icon callout-titled" title="Answers">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answers
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li>Local name: <code>eg.csv</code></li>
<li>Full name: Something along the lines of <code>N:\Users\&lt;username&gt;\Documents\CoF_intro2R\Lab\Day1\eg.csv</code></li>
</ul>
</div>
</div>
</div>
<section id="absolute-vs.-relative-paths" class="level3">
<h3 class="anchored" data-anchor-id="absolute-vs.-relative-paths">Absolute vs.&nbsp;relative paths</h3>
<ul>
<li><strong>Relative paths</strong>: Paths to a location that is <em>relative</em> to a specified location, such as the location of the current document or a project directory.</li>
<li><strong>Absolution paths</strong>: Paths to files and locations relative to the root of the file system.</li>
</ul>
</section>
</section>
<section id="a-short-aside-navigating-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="a-short-aside-navigating-rstudio">A short aside: Navigating RStudio</h2>
<ul>
<li>4 <em>Panes</em>
<ul>
<li>Console</li>
<li>Editor - Where you will edit R scripts and other documents</li>
<li>Environment - Where you can see objects stored in memory</li>
<li>Files/Viewer - Where you can navigate the file system and see outputs of plots and other visuals.</li>
</ul></li>
<li>Customizing the appearance (<strong>Very important</strong> <span class="emoji" data-emoji="wink">😉</span>)
<ul>
<li>Tools -&gt; Global options -&gt; Appearance</li>
</ul></li>
</ul>
<p><strong>Other important global options</strong></p>
<ul>
<li>Tools -&gt; Global options -&gt; General
<ul>
<li>In the <strong>Workspace</strong> and <strong>History</strong> settings, adjust the defaults to match the image below.</li>
</ul></li>
</ul>
<p><img src="images/rstudio_settings.png" class="img-fluid"></p>
<ul>
<li>If working on a Windows machine, change your default terminal to <em>PowerShell</em> or some similar bash-like terminal by going to Tools -&gt; Global Options -&gt; Terminal and change the options that says <strong>New terminals open with…</strong>.</li>
</ul>
</section>
<section id="back-to-project-organization" class="level2">
<h2 class="anchored" data-anchor-id="back-to-project-organization">Back to project organization</h2>
<p>testing</p>
<div class="callout callout-style-default callout-note no-icon callout-titled" title="Your Turn">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Your Turn
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the terminal tab of the console pane, type</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="bu">pwd</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Compare the result to your neighbor’s result. Do you get the same results?</p>
<p>Explore the file tree of your machine using the command line. The only necessary command is <code>cd</code> (for ‘change directory’).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ../</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>will take you <em>up</em> one level (i.e., out one level from the nested structure of the file tree). To go further <em>down</em> or <em>into</em> a specific directory, use</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="op">&lt;</span>directory<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>replacing <code>&lt;directory&gt;</code> with the directory name.</p>
<p>Note, that you can use the <code>tab</code> key to <em>autocomplete</em> the directory name. So start typing the directory name, then press <code>tab</code> to autocomplete the name.</p>
<p>Feel free to get lost a bit. If you do,</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ~</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>will take you back home 🏠.</p>
<p>Finally, find your way to the <code>Day1</code> directory you created above.</p>
</div>
</div>
<p>One of the things that trips people up when they first begin using programming languages to do data analysis is file path management. Good, consistent project organization combined with <em>RProjects</em> can relieve this headache substantially.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled" title="Your Turn">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Your Turn
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let’s practice loading data into R in order to see how file paths can trip people up and <em>break</em> code in many circumstances.</p>
<ol type="1">
<li>Use the <code>pwd</code> command in the terminal to see the path to your data file, <code>eg.csv</code>.</li>
<li>Open a new RScript file and type the following:</li>
</ol>
<div class="sourceCode" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>( dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"&lt;file-path&gt;"</span>) )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>replacing <code>&lt;file-path&gt;</code> with the path you got using <code>pwd</code> and appending <code>/eg.csv</code> onto the end of the path.</p>
<ol start="3" type="1">
<li><em>Run</em> the line using <code>CMD</code> + <code>ENTER</code>, or the “Run” button at the top of the script pane.</li>
<li>Below this line, add the line from your neighbor’s script. What happens?</li>
<li>Delete or comment your neighbor’s line out of your script and save the file to the <code>Day1</code> directory. Name the file <code>file_paths.R</code>.</li>
</ol>
</div>
</div>
<section id="a-better-way" class="level3">
<h3 class="anchored" data-anchor-id="a-better-way">A better way</h3>
<div class="callout callout-style-default callout-note no-icon callout-titled" title="Your Turn">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Your Turn
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>In the upper right of RStudio, find the Project dropdown menu. Select <code>Open Project</code> and navigate to your new <code>CoF_intro2R/Labs</code> directory. Open it as an R project.</li>
<li>Open the <code>file_paths.R</code> script. Type <code>getwd()</code> (for <em>get working directory</em>). What do you notice?</li>
<li>Replace your previous line with the <em>relative file path</em> to the data. What do you notice about the line in your script and your neighbor’s?</li>
<li>As an alternative to the simple relative path, you can use the <code>here</code> package for R. To do this, first install the <code>here</code> package using</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"here"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>in the R console.</p>
<ol start="5" type="1">
<li>Add the following line to your script, replacing <code>&lt;relative-path&gt;</code> with the path to the <code>eg.csv</code> file from the root of the project directory.</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>here<span class="sc">::</span><span class="fu">here</span>()</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>dat2 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"&lt;relative-path&gt;"</span>))</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">all.equal</span>(dat, dat2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>🤔 Does the first command, <code>here::here()</code>, give the same result for you and your neighbor?</p>
</div>
</div>
<div class="callout callout-style-default callout-warning no-icon callout-titled" title="Answer">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Answer
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Using <code>here::here()</code> in the console will usually not give the same result for two people on two machines because their project directories are stored in different place (literally two different computers with different users).</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The double-colon syntax, <code>package::function()</code>, as we are using with <code>here::here()</code> is a safer way of using functions from packages downloaded from the internet than loading the full library and then calling the function without prefacing with the package name. We will get into packages more later in the workshop, but for now, remember that we can use any function from a downloaded package using this syntax.</p>
</div>
</div>
</section>
</section>
</section>
<section id="git-and-github" class="level1">
<h1>Git and GitHub</h1>
<section id="key-git-vocabulary" class="level2">
<h2 class="anchored" data-anchor-id="key-git-vocabulary">Key git vocabulary</h2>
<section id="nouns" class="level3">
<h3 class="anchored" data-anchor-id="nouns">Nouns</h3>
<ul>
<li><strong>repository/repo</strong>: Effectively a folder/directory</li>
<li><strong>remote</strong>: The version of the repo that is hosted on GitHub or some other web-based hosting platform</li>
<li><strong>local</strong>: The version of the repo that is stored on your personal computer</li>
<li><strong>staging area</strong>: A list of files that should be “tracked”, or version controlled, using <code>git</code>.</li>
<li><strong>commit</strong>: When used as a noun, a recorded change or set of changes to the repo.</li>
<li><strong>branch</strong><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>: A separate record of changes to the repo. There is usually a <code>main</code> branch that serves as the reference and <em>feature</em> branches that can be merged with <code>main</code> once the edits to the repo are complete. Branches are useful for collaborative repositories.</li>
<li><strong>pull request</strong><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>: A set of suggested changes to a repo that can be suggested by a collaborator or, if the repo is public, anyone on the internet. The suggestions can then be reviewed by the owner of the repo and merged or not.</li>
</ul>
</section>
<section id="verbs" class="level3">
<h3 class="anchored" data-anchor-id="verbs">Verbs</h3>
<ul>
<li><strong>clone</strong>: To <em>copy</em> a repo from GitHub that you have admin or collaborator privelages on</li>
<li><strong>fork</strong>: To copy a repo from GitHub (or another host) that you <em>do not</em> have write priveleges to. The only way to contribute to a forked repo is through pull requests.</li>
<li><strong>pull</strong>: To sync changes from the <em>remote</em> to your local repo</li>
<li><strong>push</strong>: To sync changes from your <em>local</em> repo to the remote</li>
<li><strong>commit</strong>: When used as a verb, a set of change for which you want to create a time-stamp/record of the repo at that point in time.</li>
<li><strong>commit message</strong>:</li>
</ul>
</section>
</section>
<section id="a-simple-workflow" class="level2">
<h2 class="anchored" data-anchor-id="a-simple-workflow">A simple workflow</h2>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph LR
    A[fa:fa-github Initial state] -.-&gt; D[fa:fa-github updated remote]
    A -- clone to local --&gt; B(fa:fa-laptop initial local)
    B -- commit changes --&gt; C(fa:fa-laptop updated local)
    C -- push changes --&gt; D
    
classDef remote fill:#ececec,stroke:#2d2926,color:#000000;
classDef local fill:#81a9ad,stroke:#2d2926,color:#000000;
class A,D remote
class B,C local
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<section id="multiple-computers" class="level3">
<h3 class="anchored" data-anchor-id="multiple-computers">Multiple computers</h3>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">graph TD
    A[fa:fa-github Initial state] -.-&gt; E
    A -- clone to local 1 --&gt; B(fa:fa-laptop initial local 1)
    A -- clone to local 2 --&gt; C(fa:fa-desktop initial local 2)
    B -- commit changes --&gt; D(fa:fa-laptop update1 to local 1)
    D -- push to remote --&gt; E[fa:fa-github update 1 to remote]
    E -.-&gt; H
    E -- pull to local 2 --&gt; F(fa:fa-desktop update 1 to local 2)
    C -. fast forward .-&gt; F
    F -- commit changes --&gt; G(fa:fa-desktop update 2 local 2)
    G -- push to remote --&gt; H[fa:fa-github update 2 to remote]
    
classDef remote fill:#ececec,stroke:#2d2926,color:#000000;
classDef local1 fill:#81a9ad,stroke:#2d2926,color:#000000;
classDef local2 fill:#537380,stroke:#2d2926,color:#FFFFFF;
class A,E,H remote
class B,D local1
class C,F,G local2
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
</section>
<section id="using-git-and-github" class="level2">
<h2 class="anchored" data-anchor-id="using-git-and-github">Using git and GitHub</h2>
<p>Let’s get some practice with the <code>git</code> workflow while also introducing how your homeworks will be assigned.</p>
<div class="callout callout-style-default callout-note no-icon callout-titled" title="Your Turn">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Your Turn
</div>
</div>
<div class="callout-body-container callout-body">
<ol type="1">
<li>Create a <code>Homework</code> directory inside your <code>CoF_intro2R</code> directory.</li>
<li>Go to the Canvas site for this class, Week 1 module. Click the link provided on the Homework 1 page. “Accept” the assignment. This will take you to GitHub (it may ask you to sign in) and a newly created template repository for you.</li>
<li><em>Clone</em> the repo to your local computer using one of the two methods below. Clone the repo into the <code>Homework</code> directory.</li>
<li>Follow the homework instructions for steps 1-3.</li>
<li>Push your changes up to the remote using one of the three methods below.</li>
</ol>
</div>
</div>
<section id="using-git-from-rstudio" class="level3">
<h3 class="anchored" data-anchor-id="using-git-from-rstudio">Using git from RStudio</h3>
<p>The most common <code>git</code> commands have been baked into the RStudio GUI. These include <em>adding</em> files to the <em>staging area</em>, <em>committing</em> and writing <em>commit messages</em>, <em>pushing</em>, and <em>pulling</em>.</p>
<div class="callout-danger">
<p>If you are working on a Windows machine, I have found that you often need to specify where your <code>git.exe</code> file is stored and point RStudio to that location. To do so, go to Tools -&gt; Global Options -&gt; Git/SVN, then either browse or supply the filepath to the git executable. For example, for those that downloaded <code>git</code> through GitHub Desktop, the <code>git.exe</code> is located in <code>C:/Users/&lt;username&gt;/AppData/Local/GitHubDesktop/app-&lt;version&gt;/resources/app/git/cmd/git.exe</code>.</p>
</div>
<section id="cloning" class="level4">
<h4 class="anchored" data-anchor-id="cloning">Cloning</h4>
<p>To <em>clone</em> a repo to your local computer, go to File -&gt; New Project… -&gt; Version Control -&gt; Git.</p>
<p>Next, go to your GitHub repo and click the green “Code” button. Copy the HTTPs URL and paste it into the dialogue box from RStudio. You can then save it to a specific location. This will open the repo as an <code>RProject</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you set up your ssh keys before the course started (extra credit on homework 0), then be sure to clone your project from GitHub using the ssh protocol, not HTTPs.</p>
</div>
</div>
</section>
<section id="pulling" class="level4">
<h4 class="anchored" data-anchor-id="pulling">Pulling</h4>
<p>Except for immediately after the initial cloning step when you are copying the remote repo to your local machine, the first thing you should do upon opening a repo locally is <em>pull</em>. This merges any new edits that are saved on the remote that you don’t have locally. This is easily accomplished in RStudio using the blue down arrow <span class="emoji" data-emoji="arrow_down">⬇️</span> on the Git pane.</p>
</section>
<section id="committing" class="level4">
<h4 class="anchored" data-anchor-id="committing">Committing</h4>
<p>In the upper right panel of RStudio, you will now see a <code>git</code> tab.</p>
<ol type="1">
<li>After making changes to files, click the green checkmark <span class="emoji" data-emoji="heavy_check_mark">✔️</span> icon that says “commit” when you hover over it with your mouse. This will bring up a new dialogue box.</li>
<li>Check the box next to the file you changed and to which you want to commit the changes. You can see the changes made in the panel at the bottom.</li>
<li>Write a <em>commit message</em> in the box that describes the changes made or the state the project is in. Ideally, you should be able to look at commit messages and use them to revert the project back to previous states if necessary.</li>
<li>Press “commit”.</li>
</ol>
</section>
<section id="pushing" class="level4">
<h4 class="anchored" data-anchor-id="pushing">Pushing</h4>
<p>Once you are ready to merge your local changes with the remote repo, press the green up arrow <span class="emoji" data-emoji="arrow_up">⬆️</span> in the Git pane of RStudio. The remote repo will be updated with the changes you made during the working session.</p>
</section>
</section>
<section id="using-github-desktop" class="level3">
<h3 class="anchored" data-anchor-id="using-github-desktop">Using GitHub Desktop</h3>
<p>GitHub Desktop gives the user a GUI with which to interact. To clone a repository to your local computer using GitHub Desktop, open GitHub Desktop and sign into your GitHub account.</p>
<section id="cloning-a-repo" class="level4">
<h4 class="anchored" data-anchor-id="cloning-a-repo">Cloning a repo</h4>
<p>Once signed into GitHub from GitHub Desktop, click <code>Clone a Repository from the Internet...</code>. GitHub Desktop should already be linked to your GitHub account, so you just need to search for the repo you want. Clone the repo to the local location you want using the <code>Choose</code> button to navigate to the local path. Then click <code>Clone</code>.</p>
</section>
<section id="pulling-1" class="level4">
<h4 class="anchored" data-anchor-id="pulling-1">Pulling</h4>
<ol type="1">
<li><p>Select the repo you want to work on. In the top-left corner of GitHub Desktop, you will see a drop-down menu. Click this and select the repository you want to pull changes into.</p></li>
<li><p>In the top-center of the GitHub Desktop window, check that you are on the correct branch (e.g., <code>main</code> or <code>develop</code>). You can switch branches using the drop-down menu if needed<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</p></li>
<li><p>On the toolbar at the top, click the <code>Fetch origin</code> button. This will check for any updates or changes made to the repository on GitHub.</p></li>
<li><p>Once GitHub Desktop checks for updates, the <code>Fetch origin</code> button will change to <code>Pull origin</code> if there are any updates. Click the <code>Pull origin</code> button to download and apply the changes from the remote repository to your local copy.</p></li>
</ol>
</section>
<section id="committing-changes" class="level4">
<h4 class="anchored" data-anchor-id="committing-changes">Committing changes</h4>
<ol type="1">
<li><p>Once you’ve made changes, open GitHub Desktop. In the Changes tab (on the left panel), you’ll see a list of modified files. Clicking on each file will show a <em>diff</em> view of what was added, deleted, or modified.</p></li>
<li><p>At the bottom of the Changes tab, you’ll see a text box labeled <code>Summary (required)</code>. Enter a descriptive commit message that summarizes the changes you made or the state the repo is in. Again, you want to be able to use these messages to revert the repo back to an older version if necessary.</p>
<ul>
<li>If needed, you can add more details about the changes in the “Description” field, which appears below the summary box. This is helpful for providing more context about the changes.</li>
</ul></li>
<li><p>By default, all modified files are selected for the commit. If you don’t want to commit all the changes, uncheck the files you don’t want to include in this commit.</p></li>
<li><p>After filling in the commit message and selecting the files you want to include, click the “Commit to <code>&lt;branch name&gt;</code>” button (usually labeled “Commit to main” or the name of your active branch). This will commit the changes locally.</p></li>
</ol>
</section>
<section id="pushing-1" class="level4">
<h4 class="anchored" data-anchor-id="pushing-1">Pushing</h4>
<p>After committing the local changes, click the <code>Push origin</code> button that appears at the top after committing your changes.</p>
</section>
</section>
<section id="using-git-from-the-command-line" class="level3">
<h3 class="anchored" data-anchor-id="using-git-from-the-command-line">Using git from the command line</h3>
<p>A final way to use <code>git</code> is from the command line. This is how <code>git</code> was initially inteded to be used, but GUIs have been developed over time.</p>
<section id="cloning-a-repo-1" class="level4">
<h4 class="anchored" data-anchor-id="cloning-a-repo-1">Cloning a repo</h4>
<p>To clone a repo to your local machine, first, navigate to where you want the repo clone to live.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> <span class="op">&lt;</span>path-to-clone-location<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then, use the <code>git</code> command <code>clone</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone <span class="op">&lt;</span>repo-url<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You may be asked to provide pass keys or sign in, which may also happen any time you <em>pull</em> or <em>push</em>. To avoid this, set up SSH keys as described <a href="https://happygitwithr.com/ssh-keys">here</a>.</p>
</section>
<section id="pulling-2" class="level4">
<h4 class="anchored" data-anchor-id="pulling-2">Pulling</h4>
<p>Upon opening a repo, it’s a good idea to check for changes made to the remote. To do this, you can use</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> fetch origin</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>which will check for changes and then give you a summary of which files are being tracked, which, have been modified, which are staged, etc. If the local is behind the remote, use</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="committing-changes-1" class="level4">
<h4 class="anchored" data-anchor-id="committing-changes-1">Committing changes</h4>
<p>To commit changes using the command line, you first need to add modified files to the <em>staging area</em>. To do this, use</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add <span class="op">&lt;</span>file_name<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add <span class="at">-A</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>to add all modified files.</p>
<p>Next, commit the modified files using</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="op">&lt;</span>file_name<span class="op">&gt;</span> -m <span class="st">"type commit message in quotes after -m flag"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>or</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-am</span> <span class="st">"type commit message here"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>to commit all changes made to all the staged files using the same message.</p>
</section>
<section id="pushing-2" class="level4">
<h4 class="anchored" data-anchor-id="pushing-2">Pushing</h4>
<p>As you might expect, to push changes up to the remote, you can use</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>which will push all committed changes to GitHub.</p>


</section>
</section>
</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>We will not get into using branches much if at all in this workshop.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>I will provide feedback on your homeworks using pull requests.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>We will not get into using branches much if at all in this workshop.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/CoF-intro2R\.github\.io\/intro2R-lab-notes\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>